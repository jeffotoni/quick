package quick

import (
	"fmt"
	"net"
)

// ANSI color definition
const (
	Reset  = "\033[0m"
	Blue   = "\033[34m"
	Green  = "\033[32m"
	Yellow = "\033[33m"
	Cyan   = "\033[36m"
	Bold   = "\033[1m"
)

// Quick version
const QuickVersion = "v0.0.1"

func (q *Quick) Display(scheme, addr string) {
	if !q.config.NoBanner {

		// Counts the number of registered routes
		routeCount := len(q.GetRoute())

		// Extract port from addr
		host, port, err := net.SplitHostPort(addr)
		if err != nil {
			fmt.Println("Error separating host and port:", err)
			return
		}

		if len(host) == 0 {
			host = "//127.0.0.1"
		}

		// Display the styled banner
		fmt.Println()
		fmt.Printf("%s%s   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•—%s\n", Bold, Blue, Reset)
		fmt.Printf("%s  â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•   â–ˆâ–ˆâ•‘ â–ˆâ–ˆâ•”â•%s\n", Blue, Reset)
		fmt.Printf("%s  â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â• %s\n", Blue, Reset)
		fmt.Printf("%s  â–ˆâ–ˆâ•‘â–„â–„ â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘      â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•— %s\n", Blue, Reset)
		fmt.Printf("%s  â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•” â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•—%s\n", Blue, Reset)
		fmt.Printf("%s   â•šâ•â•â–€â–€â•â•  â•šâ•â•â•â•â•â• â•šâ•â• â•šâ•â•â•â•â•â• â•šâ•â•  â•šâ•â•%s\n", Blue, Reset)
		fmt.Println()
		fmt.Printf("%s%s Quick %s %sğŸš€ Fast & Minimal Web Framework%s\n", Bold, Cyan, QuickVersion, Yellow, Reset)
		fmt.Println("â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€")
		fmt.Printf("%s ğŸŒ Host : %s%s:%s%s\n", Yellow, Green, scheme, host, Reset)
		fmt.Printf("%s ğŸ“Œ Port : %s%s%s\n", Yellow, Green, port, Reset)
		fmt.Printf("%s ğŸ”€ Routes: %s%d%s\n", Yellow, Green, routeCount, Reset)
		fmt.Println("â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€")
		fmt.Println()
	}
}
